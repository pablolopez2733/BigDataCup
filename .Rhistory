text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightblue",'darkblue')) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightblue",'#59CEFF')) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightblue",'#add8e6')) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightblue",'#81d5f0')) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightblue",'#99bdd1')) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightblue")) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
theme_bw()
ggplotly(probs)
850/16
850/53.125
frame <- read.csv("xT/nwhl/frame_plot.csv")%>%
mutate(
x = (x/10)-100,
y = (y/10)-42.5
)
8500/53.125
2000/53.125
8500/16
20000/16
frame <- read.csv("xT/nwhl/frame_plot.csv")%>%
mutate(
x = (x/1250),
y = (y/531.25),
)
# Plot
probs <- ggplot()+
geom_tile(data=frame,aes(x,y,fill=xt))+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
theme_bw()
ggplotly(probs)
frame <- read.csv("small_matrix.csv")%>%
mutate(
x = (x/125),
y = (y/53.125),
)
# Plot
probs <- ggplot()+
geom_tile(data=frame,aes(x,y,fill=xt))+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
geom_tile(data=frame,aes(x,y,fill=xt))+
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
# geom_tile(data=data,
#           aes(x = x,y = y, fill=xt,
#               text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
#                              round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
# scale_fill_gradientn(colours=c("white","#91daf2")) +
geom_tile(data=frame,aes(x,y,fill=xt))+
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
# geom_tile(data=data,
#           aes(x = x,y = y, fill=xt,
#               text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
#                              round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
geom_tile(data=frame,aes(x,y,fill=xt))+
theme_bw()
ggplotly(probs)
frame <- read.csv("small_matrix.csv")%>%
mutate(
x = (x/1250),
y = (y/531.25),
)
# Plot
probs <- ggplot()+
# geom_tile(data=data,
#           aes(x = x,y = y, fill=xt,
#               text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
#                              round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
geom_tile(data=frame,aes(x,y,fill=xt))+
theme_bw()
ggplotly(probs)
20000/16
8500/8
frame <- read.csv("small_matrix.csv")%>%
mutate(
x = (x/1250),
y = (y/1062.5),
)
# Plot
probs <- ggplot()+
# geom_tile(data=data,
#           aes(x = x,y = y, fill=xt,
#               text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
#                              round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
geom_tile(data=frame,aes(x,y,fill=xt))+
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
geom_tile(data=frame,aes(x,y,fill=xt))+
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=frame,aes(x,y,fill=xt))+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
theme_bw()
# Plot
probs <- ggplot()+
geom_tile(data=frame,aes(x,y,fill=xt))+
geom_tile(data=data,
aes(x = x,y = y,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=frame,aes(x,y,fill=xt))+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
theme_bw()
ggplotly(probs)
View(frame)
frame%>% mutate(k=paste0(x,y))
data=read.csv('xt/nwhl/for_interactive.csv')%>% mutate(k=paste0(x,y))
frame <- read.csv("small_matrix.csv")%>%
mutate(
x = (x/1250),
y = (y/1062.5),
)%>% mutate(k=paste0(x,y))
frame %>% left_join(data,by=k)
frame
frame %>% tail(10)
frame <- read.csv("small_matrix.csv")%>%
mutate(
x = (x/125),
y = (y/106.25),
k = paste0(x,y))
frame %>% tail(10)
frame <- read.csv("small_matrix.csv")%>%
mutate(
x = (x/12.5),
y = (y/10.625),
k = paste0(x,y))
frame %>% tail(10)
data
data %>% tail(5)
frame %>% left_join(data,by=k)
frame %>% tail(10)
15.92
int(15.92)
floor(15.92 * 100) / 100
floor(15.92 * 100) / 100
floor(15.92) / 100
floor(15.92)
frame <- read.csv("small_matrix.csv")%>%
mutate(
x = (x/12.5),
y = (y/10.625),
k = paste0(floor(x),floor(y)))
frame %>% tail(10)
data %>% tail(5)
frame %>% left_join(data,by=k)
frame %>% left_join(data,by='k')
plot=frame %>% left_join(data,by='k')
# Plot
probs <- ggplot()+
geom_tile(data=plot,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=plot,
aes(x = x.x,y = y.x, fill=xt.x,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","#91daf2")) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=plot,
aes(x = x.x,y = y.x, fill=xt.x,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("black","red",'yellow')) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=plot,
aes(x = x.x,y = y.x, fill=xt.x,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","blue",'purple')) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=plot,
aes(x = x.x,y = y.x, fill=xt.x,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white",'purple',"blue")) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=plot,
aes(x = x.x,y = y.x, fill=xt.x,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,4), round(move_prob,4), round(score_prob,4)))) +
scale_fill_gradientn(colours=c("white",'purple',"blue")) +
theme_bw()
ggplotly(probs)
data=read.csv('xt/nwhl/for_interactive.csv')
data=read.csv('xt/nwhl/for_interactive.csv')
# Plot
probs <- ggplot()+
geom_tile(data=plot,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white",'purple',"blue")) +
theme_bw()
ggplotly(probs)
data
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white",'purple',"blue")) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","green")) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","green",'blue')) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'lightblue')) +
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'darkgreen')) +
theme_bw()
ggplotly(probs)
data=read.csv('xt/nwhl/for_interactive.csv')%>%
mutate(
x = x-8,
y = y-4
)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'darkgreen')) +
# Faceoff circles
geom_circle(aes(x0 = 0, y0 = 0, r = 15), colour = color_lines, size = 2 / 4) + # Centre
geom_circle(aes(x0 = 69, y0 = 22, r = 15), colour = color_lines, size = 2 / 4) + # Top-Right
geom_circle(aes(x0 = 69, y0 = -22, r = 15), colour = color_lines, size = 2 / 4) + # Bottom-Right
geom_circle(aes(x0 = -69, y0 = 22, r = 15), colour = color_lines, size = 2 / 4) + # Top-Left
geom_circle(aes(x0 = -69, y0 = -22, r = 15), colour = color_lines, size = 2 / 4) + # Bottom-Left
theme_bw()
ggplotly(probs)
data
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'darkgreen')) +
theme_bw()
ggplotly(probs)
data$x %>%max()
data$x %>%min()
data=read.csv('xt/nwhl/for_interactive.csv')%>%
mutate(
x = x-7,
y = y-4
)
data$x %>%min()
data$x %>%max()
data=read.csv('xt/nwhl/for_interactive.csv')%>%
mutate(
x = x-7.5,
y = y-4.5
)
data$x %>%max()
data$x %>%min()
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'darkgreen')) +
theme_bw()
ggplotly(probs)
data$y %>% max()
data$y %>% min()
data=read.csv('xt/nwhl/for_interactive.csv')%>%
mutate(
x = x-7.5,
y = y-4
)
data$y %>% min()
data$y %>% max()
data=read.csv('xt/nwhl/for_interactive.csv')%>%
mutate(
x = x-7.5,
y = y-3
)
data$y %>% max()
data$y %>% min()
data=read.csv('xt/nwhl/for_interactive.csv')%>%
mutate(
x = x-7.5,
y = y-3.5
)
data$y %>% min()
data$y %>% max()
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'darkgreen')) +
theme_bw()
ggplotly(probs)
library(ggforce)
data$x
data$x %>% max()
data$x %>% max() + 7.5
data$x %>% min() + 7.5
200/15
color_lines = 'gray20'
color_lines = 'gray20'
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'darkgreen')) +
# Faceoff circles
geom_circle(aes(x0 = 0, y0 = 0, r = 15), colour = color_lines, size = 2 / 4) + # Centre
geom_circle(aes(x0 = 69/13.33333, y0 = 22 /13.33333, r = 15), colour = color_lines, size = 2 / 4) + # Top-Right
geom_circle(aes(x0 = 69/ 13.33333, y0 = -22/ 13.33333, r = 15), colour = color_lines, size = 2 / 4) + # Bottom-Right
geom_circle(aes(x0 = -69 /13.33333, y0 = 22 /13.33333, r = 15), colour = color_lines, size = 2 / 4) + # Top-Left
geom_circle(aes(x0 = -69 /13.33333, y0 = -22 /13.33333, r = 15), colour = color_lines, size = 2 / 4) + # Bottom-Left
theme_bw()
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'darkgreen'))# +
ggplotly(probs)
# Plot
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'darkgreen')) +
# Faceoff circles
geom_circle(aes(x0 = 0, y0 = 0, r = 15), colour = color_lines, size = 2 / 4) + # Centre
#geom_circle(aes(x0 = 69/13.33333, y0 = 22 /13.33333, r = 15), colour = color_lines, size = 2 / 4) + # Top-Right
#geom_circle(aes(x0 = 69/ 13.33333, y0 = -22/ 13.33333, r = 15), colour = color_lines, size = 2 / 4) + # Bottom-Right
#geom_circle(aes(x0 = -69 /13.33333, y0 = 22 /13.33333, r = 15), colour = color_lines, size = 2 / 4) + # Top-Left
#geom_circle(aes(x0 = -69 /13.33333, y0 = -22 /13.33333, r = 15), colour = color_lines, size = 2 / 4) + # Bottom-Left
theme_bw()
ggplotly(probs)
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'darkgreen')) +
theme_bw()
ggplotly(probs)
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'green','darkgreen')) +
theme_bw()
ggplotly(probs)
probs <- ggplot()+
geom_tile(data=data,
aes(x = x,y = y, fill=xt,
text = sprintf("Shot Probability: %s<br>Move Probability: %s<br>Score Probability: %s",
round(shot_prob,2), round(move_prob,2), round(score_prob,2)))) +
scale_fill_gradientn(colours=c("white","lightgreen",'darkgreen')) +
theme_bw()
ggplotly(probs)
